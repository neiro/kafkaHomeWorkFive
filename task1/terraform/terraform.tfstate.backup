{
  "version": 4,
  "terraform_version": "1.11.1",
  "serial": 114,
  "lineage": "578ffa0b-a255-08d0-ea5a-a89ee67f565e",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "yandex_mdb_kafka_cluster",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "config": [
              {
                "access": [
                  {
                    "data_transfer": false
                  }
                ],
                "assign_public_ip": true,
                "brokers_count": 3,
                "disk_size_autoscaling": [],
                "kafka": [
                  {
                    "kafka_config": [
                      {
                        "auto_create_topics_enable": false,
                        "compression_type": "COMPRESSION_TYPE_LZ4",
                        "default_replication_factor": "3",
                        "log_flush_interval_messages": "10000",
                        "log_flush_interval_ms": "1000",
                        "log_flush_scheduler_interval_ms": "1000",
                        "log_preallocate": false,
                        "log_retention_bytes": "-1",
                        "log_retention_hours": "168",
                        "log_retention_minutes": "",
                        "log_retention_ms": "",
                        "log_segment_bytes": "1073741824",
                        "message_max_bytes": "10485760",
                        "num_partitions": "3",
                        "offsets_retention_minutes": "10080",
                        "replica_fetch_max_bytes": "10485760",
                        "sasl_enabled_mechanisms": [
                          "SASL_MECHANISM_SCRAM_SHA_512"
                        ],
                        "socket_receive_buffer_bytes": "",
                        "socket_send_buffer_bytes": "",
                        "ssl_cipher_suites": [
                          "TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"
                        ]
                      }
                    ],
                    "resources": [
                      {
                        "disk_size": 30,
                        "disk_type_id": "network-ssd",
                        "resource_preset_id": "s2.micro"
                      }
                    ]
                  }
                ],
                "kraft": [],
                "schema_registry": true,
                "unmanaged_topics": false,
                "version": "3.5",
                "zones": [
                  "ru-central1-a",
                  "ru-central1-b",
                  "ru-central1-d"
                ],
                "zookeeper": [
                  {
                    "resources": [
                      {
                        "disk_size": 30,
                        "disk_type_id": "network-ssd",
                        "resource_preset_id": "s2.micro"
                      }
                    ]
                  }
                ]
              }
            ],
            "created_at": "2025-03-17T16:46:36Z",
            "deletion_protection": false,
            "description": "",
            "environment": "PRODUCTION",
            "folder_id": "b1gn2hbr2fo69fj8dj4a",
            "health": "HEALTH_UNKNOWN",
            "host": [
              {
                "assign_public_ip": false,
                "health": "ALIVE",
                "name": "rc1a-h4ag0unae9kf402u.mdb.yandexcloud.net",
                "role": "ZOOKEEPER",
                "subnet_id": "e9bb769jafurc5j32s5n",
                "zone_id": "ru-central1-a"
              },
              {
                "assign_public_ip": false,
                "health": "ALIVE",
                "name": "rc1b-l677chnukdm8u25d.mdb.yandexcloud.net",
                "role": "ZOOKEEPER",
                "subnet_id": "e2ljg8fqde2ou77su81l",
                "zone_id": "ru-central1-b"
              },
              {
                "assign_public_ip": false,
                "health": "ALIVE",
                "name": "rc1d-5ibvt4jr10h32qe4.mdb.yandexcloud.net",
                "role": "ZOOKEEPER",
                "subnet_id": "fl8ob93lk7pd5fgb92vq",
                "zone_id": "ru-central1-d"
              },
              {
                "assign_public_ip": true,
                "health": "ALIVE",
                "name": "rc1a-8e5f2ghbbopnsf26.mdb.yandexcloud.net",
                "role": "KAFKA",
                "subnet_id": "e9bb769jafurc5j32s5n",
                "zone_id": "ru-central1-a"
              },
              {
                "assign_public_ip": true,
                "health": "ALIVE",
                "name": "rc1a-qq7r38r0tqmpaahs.mdb.yandexcloud.net",
                "role": "KAFKA",
                "subnet_id": "e9bb769jafurc5j32s5n",
                "zone_id": "ru-central1-a"
              },
              {
                "assign_public_ip": true,
                "health": "ALIVE",
                "name": "rc1a-tnshi2eesnkcd3n4.mdb.yandexcloud.net",
                "role": "KAFKA",
                "subnet_id": "e9bb769jafurc5j32s5n",
                "zone_id": "ru-central1-a"
              },
              {
                "assign_public_ip": true,
                "health": "ALIVE",
                "name": "rc1b-0aq1e8kha3u596ap.mdb.yandexcloud.net",
                "role": "KAFKA",
                "subnet_id": "e2ljg8fqde2ou77su81l",
                "zone_id": "ru-central1-b"
              },
              {
                "assign_public_ip": true,
                "health": "ALIVE",
                "name": "rc1b-7g3u99o94d22v593.mdb.yandexcloud.net",
                "role": "KAFKA",
                "subnet_id": "e2ljg8fqde2ou77su81l",
                "zone_id": "ru-central1-b"
              },
              {
                "assign_public_ip": true,
                "health": "ALIVE",
                "name": "rc1b-jslae32n6e6i776b.mdb.yandexcloud.net",
                "role": "KAFKA",
                "subnet_id": "e2ljg8fqde2ou77su81l",
                "zone_id": "ru-central1-b"
              },
              {
                "assign_public_ip": true,
                "health": "ALIVE",
                "name": "rc1d-7p4hu8pagk56cnem.mdb.yandexcloud.net",
                "role": "KAFKA",
                "subnet_id": "fl8ob93lk7pd5fgb92vq",
                "zone_id": "ru-central1-d"
              },
              {
                "assign_public_ip": true,
                "health": "ALIVE",
                "name": "rc1d-ld7p359rj0qkdqc4.mdb.yandexcloud.net",
                "role": "KAFKA",
                "subnet_id": "fl8ob93lk7pd5fgb92vq",
                "zone_id": "ru-central1-d"
              },
              {
                "assign_public_ip": true,
                "health": "ALIVE",
                "name": "rc1d-n80sae76967totaj.mdb.yandexcloud.net",
                "role": "KAFKA",
                "subnet_id": "fl8ob93lk7pd5fgb92vq",
                "zone_id": "ru-central1-d"
              }
            ],
            "host_group_ids": [],
            "id": "c9qt6uh0uvli82cquj4h",
            "labels": {},
            "maintenance_window": [
              {
                "day": "",
                "hour": 0,
                "type": "ANYTIME"
              }
            ],
            "name": "kafka-std",
            "network_id": "enp9uld4jvmb2rigj1o4",
            "security_group_ids": [
              "enp6s8oau9ntb6rrdbk0"
            ],
            "status": "RUNNING",
            "subnet_ids": [
              "e9bb769jafurc5j32s5n",
              "e2ljg8fqde2ou77su81l",
              "fl8ob93lk7pd5fgb92vq"
            ],
            "timeouts": null,
            "topic": [],
            "user": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "yandex_vpc_network.mynet",
            "yandex_vpc_security_group.kafka-std-sg",
            "yandex_vpc_subnet.mysubnet-a",
            "yandex_vpc_subnet.mysubnet-b",
            "yandex_vpc_subnet.mysubnet-d"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_mdb_kafka_topic",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "index_key": "my_topic",
          "schema_version": 0,
          "attributes": {
            "cluster_id": "c9qt6uh0uvli82cquj4h",
            "id": "c9qt6uh0uvli82cquj4h:my_topic",
            "name": "my_topic",
            "partitions": 3,
            "replication_factor": 3,
            "timeouts": null,
            "topic_config": [
              {
                "cleanup_policy": "CLEANUP_POLICY_COMPACT",
                "compression_type": "COMPRESSION_TYPE_LZ4",
                "delete_retention_ms": "86400000",
                "file_delete_delay_ms": "60000",
                "flush_messages": "10000",
                "flush_ms": "1000",
                "max_message_bytes": "1048576",
                "min_compaction_lag_ms": "5000",
                "min_insync_replicas": "2",
                "preallocate": false,
                "retention_bytes": "104857600",
                "retention_ms": "604800000",
                "segment_bytes": "1073741824"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJyZWFkIjo2MDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "yandex_mdb_kafka_cluster.this",
            "yandex_vpc_network.mynet",
            "yandex_vpc_security_group.kafka-std-sg",
            "yandex_vpc_subnet.mysubnet-a",
            "yandex_vpc_subnet.mysubnet-b",
            "yandex_vpc_subnet.mysubnet-d"
          ]
        },
        {
          "index_key": "nifi_topic",
          "schema_version": 0,
          "attributes": {
            "cluster_id": "c9qt6uh0uvli82cquj4h",
            "id": "c9qt6uh0uvli82cquj4h:nifi_topic",
            "name": "nifi_topic",
            "partitions": 3,
            "replication_factor": 3,
            "timeouts": null,
            "topic_config": [
              {
                "cleanup_policy": "CLEANUP_POLICY_COMPACT",
                "compression_type": "COMPRESSION_TYPE_LZ4",
                "delete_retention_ms": "86400000",
                "file_delete_delay_ms": "60000",
                "flush_messages": "10000",
                "flush_ms": "1000",
                "max_message_bytes": "1048576",
                "min_compaction_lag_ms": "5000",
                "min_insync_replicas": "2",
                "preallocate": false,
                "retention_bytes": "104857600",
                "retention_ms": "604800000",
                "segment_bytes": "1073741824"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJyZWFkIjo2MDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "yandex_mdb_kafka_cluster.this",
            "yandex_vpc_network.mynet",
            "yandex_vpc_security_group.kafka-std-sg",
            "yandex_vpc_subnet.mysubnet-a",
            "yandex_vpc_subnet.mysubnet-b",
            "yandex_vpc_subnet.mysubnet-d"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_mdb_kafka_user",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "index_key": "consumer",
          "schema_version": 0,
          "attributes": {
            "cluster_id": "c9qt6uh0uvli82cquj4h",
            "id": "c9qt6uh0uvli82cquj4h:consumer",
            "name": "consumer",
            "password": "kafkaSuperPuper",
            "permission": [
              {
                "allow_hosts": [
                  "0.0.0.0/0"
                ],
                "role": "ACCESS_ROLE_CONSUMER",
                "topic_name": "*"
              }
            ],
            "timeouts": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "password"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJyZWFkIjo2MDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "random_password.password",
            "yandex_mdb_kafka_cluster.this",
            "yandex_vpc_network.mynet",
            "yandex_vpc_security_group.kafka-std-sg",
            "yandex_vpc_subnet.mysubnet-a",
            "yandex_vpc_subnet.mysubnet-b",
            "yandex_vpc_subnet.mysubnet-d"
          ]
        },
        {
          "index_key": "producer",
          "schema_version": 0,
          "attributes": {
            "cluster_id": "c9qt6uh0uvli82cquj4h",
            "id": "c9qt6uh0uvli82cquj4h:producer",
            "name": "producer",
            "password": "kafkaSuperPuper",
            "permission": [
              {
                "allow_hosts": [
                  "0.0.0.0/0"
                ],
                "role": "ACCESS_ROLE_PRODUCER",
                "topic_name": "*"
              }
            ],
            "timeouts": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "password"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJyZWFkIjo2MDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "random_password.password",
            "yandex_mdb_kafka_cluster.this",
            "yandex_vpc_network.mynet",
            "yandex_vpc_security_group.kafka-std-sg",
            "yandex_vpc_subnet.mysubnet-a",
            "yandex_vpc_subnet.mysubnet-b",
            "yandex_vpc_subnet.mysubnet-d"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_vpc_network",
      "name": "mynet",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": "2025-03-17T16:46:31Z",
            "default_security_group_id": "enp5vq4m5asjoacvg3e6",
            "description": "",
            "folder_id": "b1gn2hbr2fo69fj8dj4a",
            "id": "enp9uld4jvmb2rigj1o4",
            "labels": {},
            "name": "mynet",
            "subnet_ids": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_vpc_security_group",
      "name": "kafka-std-sg",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": "2025-03-17T16:46:35Z",
            "description": "",
            "egress": [
              {
                "description": "Allow all traffic inside VPC",
                "from_port": -1,
                "id": "enpkso51miaggbchvjjv",
                "labels": {},
                "port": -1,
                "predefined_target": "",
                "protocol": "TCP",
                "security_group_id": "",
                "to_port": -1,
                "v4_cidr_blocks": [
                  "10.5.0.0/16"
                ],
                "v6_cidr_blocks": []
              }
            ],
            "folder_id": "b1gn2hbr2fo69fj8dj4a",
            "id": "enp6s8oau9ntb6rrdbk0",
            "ingress": [
              {
                "description": "Kafka Broker Internal",
                "from_port": -1,
                "id": "enp2q0vtui9t05a5slo8",
                "labels": {},
                "port": 9092,
                "predefined_target": "",
                "protocol": "TCP",
                "security_group_id": "",
                "to_port": -1,
                "v4_cidr_blocks": [
                  "10.5.0.0/16"
                ],
                "v6_cidr_blocks": []
              },
              {
                "description": "Kafka Clients",
                "from_port": -1,
                "id": "enp4sb4dj6h0aibegcnv",
                "labels": {},
                "port": 9092,
                "predefined_target": "",
                "protocol": "TCP",
                "security_group_id": "",
                "to_port": -1,
                "v4_cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "v6_cidr_blocks": []
              },
              {
                "description": "Kafka External (если нужен доступ снаружи)",
                "from_port": -1,
                "id": "enpdktef666udl1599t4",
                "labels": {},
                "port": 9093,
                "predefined_target": "",
                "protocol": "TCP",
                "security_group_id": "",
                "to_port": -1,
                "v4_cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "v6_cidr_blocks": []
              },
              {
                "description": "Kafka Inter-Broker Communication",
                "from_port": -1,
                "id": "enp5h2idup13v43famls",
                "labels": {},
                "port": 9091,
                "predefined_target": "",
                "protocol": "TCP",
                "security_group_id": "",
                "to_port": -1,
                "v4_cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "v6_cidr_blocks": []
              },
              {
                "description": "Managed Kafka API (Managed Schema Registry)",
                "from_port": -1,
                "id": "enpdhk6v0o9slk117r1c",
                "labels": {},
                "port": 443,
                "predefined_target": "",
                "protocol": "TCP",
                "security_group_id": "",
                "to_port": -1,
                "v4_cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "v6_cidr_blocks": []
              },
              {
                "description": "Zookeeper Client",
                "from_port": -1,
                "id": "enp5ke2rk9snnam18472",
                "labels": {},
                "port": 2181,
                "predefined_target": "",
                "protocol": "TCP",
                "security_group_id": "",
                "to_port": -1,
                "v4_cidr_blocks": [
                  "10.5.0.0/16"
                ],
                "v6_cidr_blocks": []
              },
              {
                "description": "Zookeeper Leader Election",
                "from_port": -1,
                "id": "enpfb1tejv61q40n7rfd",
                "labels": {},
                "port": 3888,
                "predefined_target": "",
                "protocol": "TCP",
                "security_group_id": "",
                "to_port": -1,
                "v4_cidr_blocks": [
                  "10.5.0.0/16"
                ],
                "v6_cidr_blocks": []
              },
              {
                "description": "Zookeeper Peer Communication",
                "from_port": -1,
                "id": "enp9afl6770a1erabc9g",
                "labels": {},
                "port": 2888,
                "predefined_target": "",
                "protocol": "TCP",
                "security_group_id": "",
                "to_port": -1,
                "v4_cidr_blocks": [
                  "10.5.0.0/16"
                ],
                "v6_cidr_blocks": []
              }
            ],
            "labels": {},
            "name": "kafka-std-sg",
            "network_id": "enp9uld4jvmb2rigj1o4",
            "status": "ACTIVE",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19",
          "dependencies": [
            "yandex_vpc_network.mynet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_vpc_subnet",
      "name": "mysubnet-a",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": "2025-03-17T16:46:34Z",
            "description": "",
            "dhcp_options": [],
            "folder_id": "b1gn2hbr2fo69fj8dj4a",
            "id": "e9bb769jafurc5j32s5n",
            "labels": {},
            "name": "mysubnet-a",
            "network_id": "enp9uld4jvmb2rigj1o4",
            "route_table_id": "",
            "timeouts": null,
            "v4_cidr_blocks": [
              "10.5.0.0/24"
            ],
            "v6_cidr_blocks": [],
            "zone": "ru-central1-a"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19",
          "dependencies": [
            "yandex_vpc_network.mynet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_vpc_subnet",
      "name": "mysubnet-b",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": "2025-03-17T16:46:33Z",
            "description": "",
            "dhcp_options": [],
            "folder_id": "b1gn2hbr2fo69fj8dj4a",
            "id": "e2ljg8fqde2ou77su81l",
            "labels": {},
            "name": "mysubnet-b",
            "network_id": "enp9uld4jvmb2rigj1o4",
            "route_table_id": "",
            "timeouts": null,
            "v4_cidr_blocks": [
              "10.5.1.0/24"
            ],
            "v6_cidr_blocks": [],
            "zone": "ru-central1-b"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19",
          "dependencies": [
            "yandex_vpc_network.mynet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_vpc_subnet",
      "name": "mysubnet-d",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": "2025-03-17T16:46:34Z",
            "description": "",
            "dhcp_options": [],
            "folder_id": "b1gn2hbr2fo69fj8dj4a",
            "id": "fl8ob93lk7pd5fgb92vq",
            "labels": {},
            "name": "mysubnet-d",
            "network_id": "enp9uld4jvmb2rigj1o4",
            "route_table_id": "",
            "timeouts": null,
            "v4_cidr_blocks": [
              "10.5.2.0/24"
            ],
            "v6_cidr_blocks": [],
            "zone": "ru-central1-d"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19",
          "dependencies": [
            "yandex_vpc_network.mynet"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
